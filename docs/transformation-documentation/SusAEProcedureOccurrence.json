{
  "omopTable": "ProcedureOccurrence",
  "origin": "SUS",
  "omopColumns": [
    {
      "name": "nhs_number",
      "operation_description": "Value copied from `NHSNumber`",
      "dataSource": [
        {
          "name": "NHSNumber",
          "description": "Patient NHS Number",
          "origins": [
            {
              "origin": "NHS NUMBER",
              "url": "https://www.datadictionary.nhs.uk/data_elements/nhs_number.html"
            }
          ]
        }
      ],
      "query": "\n\tselect\n\t\tdistinct\n\t\t\tae.GeneratedRecordIdentifier,\n\t\t\tae.NHSNumber,\n\t\t\tae.CDSActivityDate as PrimaryProcedureDate,\n\t\t\tp.AccidentAndEmergencyTreatment as PrimaryProcedure\n\tfrom omop_staging.sus_AE ae\n\t\tinner join omop_staging.sus_AE_treatment p\n\t\t\ton AE.MessageId = p.MessageId\n\twhere NHSNumber is not null\n\t",
      "lookup_table_markdown": null
    },
    {
      "name": "procedure_concept_id",
      "operation_description": "Maps concepts to standard valid concepts in the `procedure` domain.",
      "dataSource": null,
      "query": null,
      "lookup_table_markdown": null
    },
    {
      "name": "procedure_date",
      "operation_description": "Converts text to dates.",
      "dataSource": [
        {
          "name": "PrimaryProcedureDate",
          "description": "Procedure Date.",
          "origins": [
            {
              "origin": "PROCEDURE DATE",
              "url": "https://www.datadictionary.nhs.uk/data_elements/procedure_date.html"
            }
          ]
        }
      ],
      "query": "\n\tselect\n\t\tdistinct\n\t\t\tae.GeneratedRecordIdentifier,\n\t\t\tae.NHSNumber,\n\t\t\tae.CDSActivityDate as PrimaryProcedureDate,\n\t\t\tp.AccidentAndEmergencyTreatment as PrimaryProcedure\n\tfrom omop_staging.sus_AE ae\n\t\tinner join omop_staging.sus_AE_treatment p\n\t\t\ton AE.MessageId = p.MessageId\n\twhere NHSNumber is not null\n\t",
      "lookup_table_markdown": null
    },
    {
      "name": "procedure_datetime",
      "operation_description": "Converts text to dates.",
      "dataSource": [
        {
          "name": "PrimaryProcedureDate",
          "description": "Procedure Date.",
          "origins": [
            {
              "origin": "PROCEDURE DATE",
              "url": "https://www.datadictionary.nhs.uk/data_elements/procedure_date.html"
            }
          ]
        }
      ],
      "query": "\n\tselect\n\t\tdistinct\n\t\t\tae.GeneratedRecordIdentifier,\n\t\t\tae.NHSNumber,\n\t\t\tae.CDSActivityDate as PrimaryProcedureDate,\n\t\t\tp.AccidentAndEmergencyTreatment as PrimaryProcedure\n\tfrom omop_staging.sus_AE ae\n\t\tinner join omop_staging.sus_AE_treatment p\n\t\t\ton AE.MessageId = p.MessageId\n\twhere NHSNumber is not null\n\t",
      "lookup_table_markdown": null
    },
    {
      "name": "procedure_end_date",
      "operation_description": "Converts text to dates.",
      "dataSource": [
        {
          "name": "PrimaryProcedureDate",
          "description": "Procedure Date.",
          "origins": [
            {
              "origin": "PROCEDURE DATE",
              "url": "https://www.datadictionary.nhs.uk/data_elements/procedure_date.html"
            }
          ]
        }
      ],
      "query": "\n\tselect\n\t\tdistinct\n\t\t\tae.GeneratedRecordIdentifier,\n\t\t\tae.NHSNumber,\n\t\t\tae.CDSActivityDate as PrimaryProcedureDate,\n\t\t\tp.AccidentAndEmergencyTreatment as PrimaryProcedure\n\tfrom omop_staging.sus_AE ae\n\t\tinner join omop_staging.sus_AE_treatment p\n\t\t\ton AE.MessageId = p.MessageId\n\twhere NHSNumber is not null\n\t",
      "lookup_table_markdown": null
    },
    {
      "name": "procedure_end_datetime",
      "operation_description": "Converts text to dates.",
      "dataSource": [
        {
          "name": "PrimaryProcedureDate",
          "description": "Procedure Date.",
          "origins": [
            {
              "origin": "PROCEDURE DATE",
              "url": "https://www.datadictionary.nhs.uk/data_elements/procedure_date.html"
            }
          ]
        }
      ],
      "query": "\n\tselect\n\t\tdistinct\n\t\t\tae.GeneratedRecordIdentifier,\n\t\t\tae.NHSNumber,\n\t\t\tae.CDSActivityDate as PrimaryProcedureDate,\n\t\t\tp.AccidentAndEmergencyTreatment as PrimaryProcedure\n\tfrom omop_staging.sus_AE ae\n\t\tinner join omop_staging.sus_AE_treatment p\n\t\t\ton AE.MessageId = p.MessageId\n\twhere NHSNumber is not null\n\t",
      "lookup_table_markdown": null
    },
    {
      "name": "procedure_type_concept_id",
      "operation_description": "Constant value set to `32818`. `EHR Administration record`",
      "dataSource": null,
      "query": null,
      "lookup_table_markdown": null
    },
    {
      "name": "procedure_source_value",
      "operation_description": "Value copied from `PrimaryProcedure`",
      "dataSource": [
        {
          "name": "PrimaryProcedure",
          "description": "\n\t\t\tACCIDENT AND EMERGENCY TREATMENT is a six character code, comprising:\n\t\t\t\tCondition\tn2 (see Treatment Table below)\n\t\t\t\tSub-Analysis\tn1 (see Sub-analysis Table below)\n\t\t\t\tLocal use\tup to an3\n\t\t\t",
          "origins": [
            {
              "origin": "ACCIDENT and EMERGENCY CLINICAL CODES",
              "url": null
            }
          ]
        }
      ],
      "query": "\n\tselect\n\t\tdistinct\n\t\t\tae.GeneratedRecordIdentifier,\n\t\t\tae.NHSNumber,\n\t\t\tae.CDSActivityDate as PrimaryProcedureDate,\n\t\t\tp.AccidentAndEmergencyTreatment as PrimaryProcedure\n\tfrom omop_staging.sus_AE ae\n\t\tinner join omop_staging.sus_AE_treatment p\n\t\t\ton AE.MessageId = p.MessageId\n\twhere NHSNumber is not null\n\t",
      "lookup_table_markdown": null
    },
    {
      "name": "procedure_source_concept_id",
      "operation_description": "Accident and Emergency Treatment to SNOMED",
      "dataSource": [
        {
          "name": "PrimaryProcedure",
          "description": "\n\t\t\tACCIDENT AND EMERGENCY TREATMENT is a six character code, comprising:\n\t\t\t\tCondition\tn2 (see Treatment Table below)\n\t\t\t\tSub-Analysis\tn1 (see Sub-analysis Table below)\n\t\t\t\tLocal use\tup to an3\n\t\t\t",
          "origins": [
            {
              "origin": "ACCIDENT and EMERGENCY CLINICAL CODES",
              "url": null
            }
          ]
        }
      ],
      "query": "\n\tselect\n\t\tdistinct\n\t\t\tae.GeneratedRecordIdentifier,\n\t\t\tae.NHSNumber,\n\t\t\tae.CDSActivityDate as PrimaryProcedureDate,\n\t\t\tp.AccidentAndEmergencyTreatment as PrimaryProcedure\n\tfrom omop_staging.sus_AE ae\n\t\tinner join omop_staging.sus_AE_treatment p\n\t\t\ton AE.MessageId = p.MessageId\n\twhere NHSNumber is not null\n\t",
      "lookup_table_markdown": "\r\n\r\n|PrimaryProcedure|procedure_source_concept_id|notes|\r\n|------|-----|-----|\r\n|01|4305581|Dressing|\r\n|02|4080807|Bandage|\r\n|03|4088727|Sutures|\r\n|04|42538257|Wound closure|\r\n|041|4074344|Wound closure - steristrips|\r\n|042|4141971|Wound closure - wound glue|\r\n|043|42538257|Wound closure - other|\r\n|05|4232206|Plaster of Paris|\r\n|06|4038879|Splint|\r\n|07|4052492|Prescription|\r\n|08|4032408|Removal foreign body|\r\n|091|4145658|Physiotherapy|\r\n|092|4080504|Physiotherapy - manipulation|\r\n|093|4145658|Physiotherapy - other |\r\n|10|4045714|Reduction|\r\n|11|4211374|Incision & Drainage|\r\n|12|4311035|Intravenous cannula|\r\n|13|4041656|Central line|\r\n|14|4046291|Lavage/Emesis|\r\n|15|4202832|Intubation|\r\n|16|44782942|Chest drain|\r\n|17|4074328|Urinary catheter|\r\n|18|4180456|Defibrillation/pacing|\r\n|19|4205502|Resuscitation|\r\n|20|46273093|Minor surgery|\r\n|21|4304206|Observation|\r\n|23|4160439|Anaesthesia|\r\n|231|4174669|General anaesthetic|\r\n|232|4303995|Local anaesthetic|\r\n|233|4117443|Regional block|\r\n|234|4140470|Entonox|\r\n|235|4219502|Sedation|\r\n|236|4160439|Anaesthesia - other|\r\n|24|4293740|Tetanus|\r\n|241|4293740|Tetanus - immune|\r\n|242|4293740|Tetanus toxoid course|\r\n|243|4293740|Tetanus toxoid booster|\r\n|244|4037789|Human immunoglobulin|\r\n|25|44790388|Nebuliser|\r\n|28|4085113|Parenteral thrombolysis|\r\n\r\nNotes\r\n* [ACCIDENT and EMERGENCY CLINICAL CODES](https://v2.datadictionary.nhs.uk/web_site_content/pages/codes/administrative_codes/a_amp_e_treatment_tables.asp@shownav=1.html)\r\n* [OMOP Procedures](https://athena.ohdsi.org/search-terms/terms?domain=Procedure&standardConcept=Standard&vocabulary=SNOMED&invalidReason=Valid&page=1&pageSize=15&query=)\r\n"
    },
    {
      "name": "RecordConnectionIdentifier",
      "operation_description": "Value copied from `GeneratedRecordIdentifier`",
      "dataSource": [
        {
          "name": "GeneratedRecordIdentifier",
          "description": "CDS specific identifier that binds multiple CDS messages together.",
          "origins": [
            {
              "origin": "CDS RECORD IDENTIFIER",
              "url": "https://www.datadictionary.nhs.uk/data_elements/cds_record_identifier.html"
            }
          ]
        }
      ],
      "query": "\n\tselect\n\t\tdistinct\n\t\t\tae.GeneratedRecordIdentifier,\n\t\t\tae.NHSNumber,\n\t\t\tae.CDSActivityDate as PrimaryProcedureDate,\n\t\t\tp.AccidentAndEmergencyTreatment as PrimaryProcedure\n\tfrom omop_staging.sus_AE ae\n\t\tinner join omop_staging.sus_AE_treatment p\n\t\t\ton AE.MessageId = p.MessageId\n\twhere NHSNumber is not null\n\t",
      "lookup_table_markdown": null
    }
  ]
}